# Human-Eval-Rust Version Management Workflow

## MANDATORY PRE-COMMIT CHECKLIST

**BEFORE every commit to human-eval-Rust repository, you MUST:**

1. **Check Current Version**
   - Read `pyproject.toml` to get current version
   - Check all version references in the codebase

2. **Determine Version Bump Type (Semantic Versioning)**
   - **PATCH** (x.y.Z+1): Bug fixes, minor corrections, Docker image updates
   - **MINOR** (x.Y+1.0): New features, enhancements, non-breaking changes
   - **MAJOR** (X+1.0.0): Breaking changes, API modifications

3. **Update ALL Version References in human-eval-Rust**
   - `pyproject.toml` - `version = "X.Y.Z"`
   - `human_eval/__init__.py` - `__version__ = "X.Y.Z"` and `Version: X.Y.Z` comment
   - All Python files with `Version: X.Y.Z` header comments:
     - `human_eval/sandbox.py`
     - `human_eval/data.py`
     - `human_eval/evaluate_functional_correctness.py`
     - `human_eval/execution.py`
     - `human_eval/evaluation.py`
     - `human_eval/rust_execution.py`
   - `README.md` - Update version references in documentation

4. **Update ALL Workspace References**
   - `lambda-package/README.md`
   - `lambda-package/lib/sigilderg.sh`
   - `lambda-package/eval_setup_readme.md`
   - `SigilDERG-Data_Production/pyproject.toml`
   - `SigilDERG-Data_Production/ARCHITECTURE.md`
   - `SigilDERG-Data_Production/docs/ECOSYSTEM_INTEGRATION.md`
   - `SigilDERG-Finetuner/pyproject.toml`
   - Any other workspace files referencing `human-eval-rust>=X.Y.Z`

5. **Build and Test**
   - Run `python -m build` to create distribution packages
   - Verify build succeeds

6. **Commit and Push**
   - Commit to GitHub with descriptive message
   - Push to GitHub main branch

7. **Publish to PyPI**
   - Run `python -m twine upload dist/human_eval_rust-X.Y.Z*`
   - Verify upload succeeds

## Version Bump Examples

- **Docker image upgrade** (rust:1.82-slim → rust:1.91.1-slim): PATCH (1.4.2 → 1.4.3)
- **New feature** (new metric tracking): MINOR (1.4.2 → 1.5.0)
- **Bug fix** (fix verify_rust_host): PATCH (1.4.2 → 1.4.3)
- **Breaking API change**: MAJOR (1.4.2 → 2.0.0)

## Current Version

**Last Updated**: 2025-11-28
**Current Version**: 2.1.0

